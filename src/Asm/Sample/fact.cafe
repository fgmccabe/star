-- fact in cafe assembler
-- Equivalent to
-- fact(0) => 1
-- fact(N) => fact(N-1)*N

fact/1 :: "F(i)i"
     enter 0
     ld a[0]
     bnz nonZero
     ld 1
     ret
nonZero:
     ld a[0]  -- start call to fact(N-1)
     deci
     call fact/1 -- fact itself
     ld a[0]
     muli
     ret
     end

_main/0:: "F()()"
     enter 0
     ld 5
     call fact/1
     halt
     end

     


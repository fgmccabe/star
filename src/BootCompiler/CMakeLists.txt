cmake_minimum_required(VERSION 3.7)
project(sbc)

set(SWIPL_BINARY)

execute_process(COMMAND which swipl OUTPUT_VARIABLE SWIPL_BINARY)

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/sbc.in ${CMAKE_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/sbc)
file(COPY ${CMAKE_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/sbc
  DESTINATION ${CMAKE_CURRENT_BINARY_DIR}
  FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ
  GROUP_EXECUTE WORLD_READ WORLD_EXECUTE)

message("swipl found at ${SWIPL_BINARY}")
